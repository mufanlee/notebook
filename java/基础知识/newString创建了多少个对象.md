# new String("abc")创建了多少个对象

### 问题

```java
String str = new String("abc");
```

上述语句创建了多少个对象？

### 分析

1. 首先，这个代码中有一个 `new` 关键字，因此在程序运行时，根据已经加载系统类 `String`，将在堆内存中实例化一个字符串对象。
2. 然后，在 `String` 的构造方法中，传递了一个 字符串常量 `abc` ，JVM 会拿着这个字面量  `abc` 去字符串常量池中试图获取它对应的 `String` 对象引用，如果拿不到，JVM将在堆内存中创建一个 `abc` 的字符串对象，并把引用保存到字符串常量池中。后续再有字面量 `abc` 的定义，直接从常量池中获取对应的引用就可以了，不需要再创建。

### 答案

如果 `abc` 在字符串常量池中不存在，则创建两个对象，分别是 `abc` 这个字符串和 `new String()` 这个实例对象；如果 `abc` 在字符串常量池中存在，则仅创建一个对象。
